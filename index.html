<!DOCTYPE html>
<html>
  <head>
    <title>Bearth World</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    <link rel="stylesheet" href="app.min.css">
    <style>
      /* .app-content{
        background-color:#ffffff;
      } */
      #app-section-lunch-screen{
        background-color:#ffffff;
        margin-top: 10px;
        margin-bottom: auto;
        height: 100%;
      }
      #login-section{
        background-color:#ffffff;
        border: 0px solid #ffffff;
        margin-top:50%;
        margin-bottom: auto;
        height: auto;
      }
      #logo-lunch-screen{
        padding-left: 25%;
        padding-top: 50%;
        width:50%;
        height: 20%;
      }
      #footer-lunch-screen{
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 25%;
      }
      #form-input{
        display: inline-block;
        border: 1px solid #ccc;
        border-radius: 500px;
        box-sizing: border-box;

      }
      #loginBtn{
        background-color:#f25a64;
        color: #ffffff;
        border-radius: 500px;
        margin-top: 5%
      }
      #registerBtn{
        background-color:#a1777a;
        color: #ffffff;
        border-radius: 500px;
        margin-top: 5%
      }
      #logo-only{
        width:35%;
        height: 20%;
        padding-left: 25%;
      }
      #topbar-btn{
        height:35px;
      }
      #parking{
        position: fixed;
        bottom: 10px;
        right:10px;
        background-color:#347ac5ff;
        width: 75px;
        height: 75px;
        border-radius: 50%
      }
      #parking-btn{
        width: 50px;
        height: 35px;
        padding-top: 20px;
      }
      #topbar-title{
        font-weight: bold;      
      }
      .app-topbar{
        position: fixed;
        
      }
      .app-list{

        margin-top: 50px;

      }
      #take-me-btn{
        width: 35%;
        height: 35px;
        border-radius: 500px;
        margin-top: 2%;
        margin-bottom: 2%;
      }
      #app-name{
        color: #F78F8F;
        padding-left: 25%;



      }
        a:link {
        color: #ffffff;
        text-decoration: none;
      }

      /* visited link */
      a:visited {
        color: #ffffff;
        text-decoration: none;
      }

      /* mouse over link */
      a:hover {
        color:  #ffffff;
        text-decoration: none;
      }

      /* selected link */
      a:active {
        color:  #ffffff;
        text-decoration: none;
      }

    </style>
  </head>

  <body>
    <!-- Lunch Screen Page 1 -->
    <div class="app-page" data-page="home">
      <div class="app-content">
        <div class="app-section" id="app-section-lunch-screen">
          <img src="images/logo.png" class="center" id="logo-lunch-screen">
          <h2 id="app-name" class="center">Bearth World</h2>
          
          <img src="images/footer.png" class="center" id="footer-lunch-screen">
        </div>
      </div>
    </div>
    <!-- login Page 2-->
    <div class="app-page" data-page="page2">
      <div class="app-content">
       
        <div class="app-topbar red">
          <div class="app-title">Login</div>
          
        </div>
        <div class="app-section" id="login-section">
          <p>E-mail</p>
          <input class="app-input emailVal" id="form-input" type="email" placeholder="x@domain.com">
          <p>Password</p>
          <input class="app-input passwordVal" id="form-input" type="password" placeholder="Password">
          <div class="app-button" id="loginBtn">LOGIN</div>
          <div class="app-button" id="registerBtn">REGISTER</div>
        </div>
        <img src="images/footer.png" class="center" id="footer-lunch-screen">
      </div>
    </div>
     <!-- registeration page  3 -->
     <div class="app-page" data-page="page3">
      <div class="app-content">
        <div class="app-topbar red">
            <div class="app-title">Register</div>
              
        </div>
        <br>
        <br>
         <div class="app-section" id="">
           <p>First Name</p>
           <input class="app-input fNameVal" id="form-input" placeholder="First Name">
           <p>Last Name</p>
           <input class="app-input lNameVal" id="form-input" placeholder="Last Name">
           <p>Phone Number</p>
           <input class="app-input phoneVal" id="form-input" placeholder="1112223333">
           
         </div>
         <div class="app-section" id="">
           <p>E-mail</p>
           <input class="app-input emailVal" id="form-input" type="email" placeholder="x@domain.com">
           <p>Password</p>
           <input class="app-input passwordVal" id="form-input" type="password" placeholder="Password">
           
          </div>
          <div class="app-section" id="">
           <p>Address</p>
           <input class="app-input addressVal" id="form-input" placeholder="1234 St name">
           <p>City</p>
           <input class="app-input cityVal" id="form-input" placeholder="City name">
           <p>State</p>
           <select name="state" class="app-input stateVal">
            <option value="AL">Alabama</option>
            <option value="AK">Alaska</option>
            <option value="AZ">Arizona</option>
            <option value="AR">Arkansas</option>
            <option value="CA">California</option>
            <option value="CO">Colorado</option>
            <option value="CT">Connecticut</option>
            <option value="DE">Delaware</option>
            <option value="FL">Florida</option>
            <option value="GA">Georgia</option>
            <option value="HI">Hawaii</option>
            <option value="ID">Idaho</option>
            <option value="IL">Illinois</option>
            <option value="IN">Indiana</option>
            <option value="IA">Iowa</option>
            <option value="KS">Kansas</option>
            <option value="KY">Kentucky</option>
            <option value="LA">Louisiana</option>
            <option value="ME">Maine</option>
            <option value="MD">Maryland</option>
            <option value="MA">Massachusetts</option>
            <option value="MI">Michigan</option>
            <option value="MN">Minnesota</option>
            <option value="MS">Mississippi</option>
            <option value="MO">Missouri</option>
            <option value="MT">Montana</option>
            <option value="NE">Nebraska</option>
            <option value="NV">Nevada</option>
            <option value="NH">New Hampshire</option>
            <option value="NJ">New Jersey</option>
            <option value="NM">New Mexico</option>
            <option value="NY">New York</option>
            <option value="NC">North Carolina</option>
            <option value="ND">North Dakota</option>
            <option value="OH">Ohio</option>
            <option value="OK">Oklahoma</option>
            <option value="OR">Oregon</option>
            <option value="PA">Pennsylvania</option>
            <option value="RI">Rhode Island</option>
            <option value="SC">South Carolina</option>
            <option value="SD">South Dakota</option>
            <option value="TN">Tennessee</option>
            <option value="TX">Texas</option>
            <option value="UT">Utah</option>
            <option value="VT">Vermont</option>
            <option value="VA">Virginia</option>
            <option value="WA">Washington</option>
            <option value="WV">West Virginia</option>
            <option value="WI">Wisconsin</option>
            <option value="WY">Wyoming</option>
          </select>
           <p>Zip Code</p>
           <input class="app-input zipVal" id="form-input" placeholder="12345">
          
        </div>
        <div class="app-section" id="">
          <p>Facebook</p>
          <input class="app-input fbVal" id="form-input" placeholder="">
          <p>Twitter</p>
          <input class="app-input twitterVal" id="form-input" placeholder="">
        </div>
          <div class="app-section" id="">
          <p>Register as:</p>
          <label class="container">
            <input type="radio" id='usert-type'  name="userTypeVal" value='c'>
            Client
            <span class="checkmark"></span>
          </label>
          <label class="container">
              <input type="radio" id='usert-type' name="userTypeVal" value='d'>
            Doula
            
            <span class="checkmark"></span>
          </label>
          <label class="container">
              <input type="radio" id='usert-type' name="userTypeVal" value='m'>
            
            Midwife
            
            <span class="checkmark"></span>
          </label>

           <div class="app-button" id="registerBtn">REGISTER</div>
         </div>
         
       </div>
    </div>
       <!-- Doula and Maidwife  page 4 -->
    <div class="app-page" data-page="page4" id="doula-maidwife">
      <div class="app-content">

        <div class="app-topbar red">
          <div class="app-title">Home Page</div>
        </div>
        <br>
        <br>
        <div class="app-section" id='user-name'>
          
       </div>
       <div class="app-section">
          <p>My Courses</p>
       </div>
          
        <div  class="app-section" id="my-courses">
          
          
        </div>
        <div class="app-section">
            <p>My Appointments</p>
        </div>
            
        <div  class="app-section" id="my-appointments">
            
          
            
            
            
          
        </div>
        <div class="app-section">
          <div class="app-button" id="registerBtn" data-target="page5">Add Services</div>
        </div>
          

      </div> 
    </div>
   
    <!-- Doula Midwife add service page  5 -->
    <div class="app-page" data-page="page5">
      <div class="app-content">
        <div class="app-topbar red">
          <div class="app-button left red" data-back data-autotitle></div>
          <div class="app-title">Add Services</div>
        </div>
        <br>
        <br>
        <div class="app-section" >
          <p>Service Name</p>
          <input placeholder="Service Name"  id="form-input" class="app-input servicename">
        </div>
        <div class="app-section">
          <p>Please select a date</p>
        </div>
        <div class="app-section" >
      
          <input type="date" id="form-input"  class="app-input dateVal">
      
        </div>
        <div class="app-section">
          <p>Please select time</p>
        </div>
        <div class="app-section" >
      
          <p>From:</p><input type="time" id="form-input" class="app-input fromVal" value="12:00">
          <p>To:</p><input type="time" id="form-input" class="app-input toVal" value="12:00">
      
        </div>
      
          <div class="app-section">
            <p>Please select type of service</p>
          </div>
      
          <div class="app-section">
      
            <input type="radio" name="servicetype" id="C" style="margin-top: 20px" value="c"> Course <br><br>
            <input type="radio" name="servicetype" id="A" style="margin-bottom: 20px" value="a"> Appointment<br>
      
          </div>
          <div class="app-section ">
            <div class="app-button send-service" id="registerBtn" >Send a service</div>
          </div>

                
              
      </div>
    </div>

    <!-- JavaScript Code -->
    <script src="zepto.js"></script>
    <script src="app.min.js"></script>
    <script>
      App.controller('home', function (page) {
     $("#app-section-lunch-screen").ready(function() {
          if (typeof localStorage !== 'undefined') {

            if (localStorage.getItem("login-status") !== null && localStorage.getItem("login-status") == 1) {

              setTimeout(function() {
                App.load('page4');
              }, 4500);

            }else{

              setTimeout(function() {
                App.load('page2');
              }, 4500);

            }
          }
	      }); 
      });

      App.controller('page2', function (page) {
        
            $(page).find('#loginBtn').clickable().on('click', function () {
              if($(".emailVal").val() != null && $(".emailVal").val() != " " && $(".passwordVal").val() != null && $(".passwordVal").val() != " "){

                $.ajax({
                  type: 'GET',
                  url: 'https://www.mohzary.com/bearthworld/login.php?callback=response',
                  data: { username: $(".emailVal").val(), password: $(".passwordVal").val()},
                  dataType: 'jsonp',
                  timeout: 1000,
                  context: $('body'),
                  success: function(data){
                    if(data.success.length === 12 ){
                      if (typeof localStorage != 'undefined') {
                        
                        localStorage.setItem("user-email", data.success[0]);
                        localStorage.setItem("user-password", data.success[1]);
                        localStorage.setItem("user-fname", data.success[2]);
                        localStorage.setItem("user-lname", data.success[3]);
                        localStorage.setItem("user-address", data.success[4]);
                        localStorage.setItem("user-city", data.success[5]);
                        localStorage.setItem("user-state", data.success[6]);
                        localStorage.setItem("user-zipcode", data.success[7]);
                        localStorage.setItem("user-facebook", data.success[8]);
                        localStorage.setItem("user-twitter", data.success[9]);
                        localStorage.setItem("user-usertype", data.success[10]);
                        localStorage.setItem("user-phone", data.success[11]);
                        localStorage.setItem("login-status", 1);

                       
                       if(localStorage.getItem("user-usertype")=="d"){
                        App.load('page4');

                       }else if(localStorage.getItem("user-usertype")=="m"){
                        App.load('page4');

                       }else if(localStorage.getItem("user-usertype") == "c"){
                        App.load('page6');

                       }

                       
                      }


                    }
              

        
        
                  },
                  error: function(xhr, type){
      
                    console.log("There is an error!" + type);     
        
                  } 
                }) 
              }else{
                console.log("please enter all information");
              }
            


              
              });
        

        $(page).find('#registerBtn').clickable().on('click', function () { 

          App.load('page3');

        });
      });
      App.controller('page3', function (page) {
       

       $(page).find('#registerBtn').clickable().on('click', function () {
         if($(".fNameVal").val() != null && $(".fNameVal").val() !== " " 
   && $(".lNameVal").val() != null && $(".lNameVal").val() != " " 
   && $(".phoneVal").val() != null && $(".phoneVal").val() != " " 
   && $(".emailVal").val() != null && $(".emailVal").val() != " " 
   && $(".passwordVal").val() != null && $(".passwordVal").val() != " "
   && $(".addressVal").val() != null && $(".addressVal").val() != " " 
   && $(".cityVal").val() != null && $(".cityVal").val() != " " 
   && $(".stateVal").val() != null && $(".stateVal").val() != " " 
   && $(".zipVal").val() != null && $(".zipVal").val() !== " " 
   && $("input[name='userTypeVal']:checked").val() != null && $("input[name='userTypeVal']:checked").val() != " " 
   ){
      $.ajax({
             type: 'GET',
             url: 'https://www.mohzary.com/bearthworld/re.php?callback=response',
             data: {fname: $(".fNameVal").val(),lname: $(".lNameVal").val(), phone:$(".phoneVal").val(), email:$(".emailVal").val(), password:$(".passwordVal").val(),address:$(".addressVal").val(),city: $(".cityVal").val(),state:$(".stateVal").val(), zipcode:$(".zipVal").val(),fbook:$(".fbVal").val(), twitter:$(".twitterVal").val(), usertype:$("input[name='userTypeVal']:checked").val()},
             dataType: 'jsonp',
             timeout: 1000,
             context: $('body'),
             success: function(data){
               if(data.success == "1" ){
                   console.log("user is registered");
                   App.load('page2');
                 


               }else{

                 console.log(data.success);

               }
         
               
   
   
             },
             error: function(xhr, type){
 
               console.log("There is an error!" + type.success);     
   
             } 
           }) 
     }else{

     window.alert("Please make sure to fill all data in the form.");
   }

           /*  */

           
         });
   


 });

      App.controller('page4', function (page) {
        // to get Doula maid wife appts. from server and dispaly them in app
        $("#doula-maidwife").ready(function() {
          if (typeof localStorage != 'undefined') {
            if(localStorage.getItem("user-fname") != " " && localStorage.getItem("user-fname") != ""){
              if(localStorage.getItem("user-lname") != " " && localStorage.getItem("user-lname") != ""){
                
                $(page).find("#user-name").html("<p>Hi "+localStorage.getItem("user-fname")+" "+localStorage.getItem("user-lname"));
              }
            }

            if(localStorage.getItem("user-email") != " " && localStorage.getItem("user-email") != null){
              $.ajax({
                type: 'GET',
                url: 'https://www.mohzary.com/bearthworld/appts.php?callback=response',
                data: {email: localStorage.getItem("user-email")},
                dataType: 'jsonp',
                timeout: 1000,
                context: $('body'),
                success: function(data){
                  console.log(data.success);
                  $(page).find("#my-appointments").html(data.success);
                },
                error: function(xhr, type){
 
                  console.log("There is an error!" + type.success);     
                } 
              })
            }
            if(localStorage.getItem("user-email") != " " && localStorage.getItem("user-email") != null){
              $.ajax({
                type: 'GET',
                url: 'https://www.mohzary.com/bearthworld/courses.php?callback=response',
                data: {email: localStorage.getItem("user-email")},
                dataType: 'jsonp',
                timeout: 1000,
                context: $('body'),
                success: function(data){
                  console.log(data.success);
                  $(page).find("#my-courses").html(data.success);
                },
                error: function(xhr, type){
 
                  console.log("There is an error!" + type.success);     
                } 
              })              
            }  
          }
        });
        //// End to get Doula maid wife appts. from server and dispaly them in app
        //to get all courses made by doula or maidwife
        


      });

      App.controller('page5', function (page) {
        $(page).find('.send-service').clickable().on('click', function () {
         if($(".fNameVal").val() != null && $(".fNameVal").val() !== " " 
   && $(".lNameVal").val() != null && $(".lNameVal").val() != " " 
   && $(".phoneVal").val() != null && $(".phoneVal").val() != " " 
   && $(".emailVal").val() != null && $(".emailVal").val() != " " 
   && $(".passwordVal").val() != null && $(".passwordVal").val() != " "
   && $(".addressVal").val() != null && $(".addressVal").val() != " " 
   && $(".cityVal").val() != null && $(".cityVal").val() != " " 
   && $(".stateVal").val() != null && $(".stateVal").val() != " " 
   && $(".zipVal").val() != null && $(".zipVal").val() !== " " 
   && $("input[name='userTypeVal']:checked").val() != null && $("input[name='userTypeVal']:checked").val() != " " 
   ){
     console.log("add service btn ok");
   }



      });

      try {
        App.load('home');
      } catch (err) {
        App.load('home');
      }
    </script>
  </body>
</html>
